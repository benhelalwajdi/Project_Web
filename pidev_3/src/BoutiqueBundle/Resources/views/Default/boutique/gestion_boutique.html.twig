{% extends 'template.html.twig' %}
    {% block body %}
        {#<button><a href="{{ path('boutique_ajouter_produit') }}">ajouter produit</a></button>#}
        {##}
        <link href="{{ asset('https://fonts.googleapis.com/icon?family=Material+Icons') }}" rel="stylesheet">
        <link href="{{asset('css/style32.css')}}" rel="stylesheet">
        <link rel="stylesheet" href="{{ asset('css/default32.css')}}" id="option_color">
        <script src="{{ asset('https://unpkg.com/sweetalert/dist/sweetalert.min.js') }}"></script>

        <link rel="stylesheet" href="{{ asset('css/jquery.dataTables.min.css')}}" >
        <script language="JavaScript" src="{{ absolute_url(asset('js/jquery.dataTables.min.js')) }}" type="text/javascript"></script>
        <script language="JavaScript" src="{{ absolute_url(asset('js/dataTables.bootstrap.min.js')) }}" type="text/javascript"></script>
        <script language="JavaScript" src="{{ absolute_url(asset('js/dataTables.responsive.min.js')) }}" type="text/javascript"></script>
        <script language="JavaScript" src="{{ absolute_url(asset('js/responsive.bootstrap.min.js')) }}" type="text/javascript"></script>
        {#<link rel="stylesheet" type="text/css" href="{{ asset('css/bootstrap.min.css') }}" />#}
        <link rel="stylesheet" type="text/css" href="{{ asset('css/dataTables.bootstrap.min.css') }}" />
        <link rel="stylesheet" type="text/css" href="{{ asset('css/responsive.bootstrap.min.css') }}" />

        <link href="{{ absolute_url(asset('images/favicon.png'))}}" rel="shortcut icon" type="image/png">



        <section class="whiteSection full-width clearfix p-t-n">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="sectionTitle text-center">
                            <h2>
                                <span class="shape shape-left bg-color-4"></span>
                                <span>Produits</span>
                                <span class="shape shape-right bg-color-4"></span>
                            </h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <div class="tabCommon tabLeft">
                            <ul class="nav nav-tabs">
                                <li class="active"><a style="width: 100%;"data-toggle="tab" href="#leftHome">Consultation</a></li>
                                <li><a style="width: 100%;" data-toggle="tab" href="#leftMenu1">Ajout</a></li>
                                <li><a style="width: 100%;" data-toggle="tab" href="#leftMenu2">Gestion</a></li>
                                <li><a style="width: 100%;" data-toggle="tab" href="#leftMenu3">Commandes</a></li>
                                <li><a style="width: 100%;" data-toggle="tab" href="#leftMenu4">Statistiques</a></li>
                            </ul>
                            <div class="tab-content" style="width:976px !important; ">
                                <div id="leftHome" class="tab-pane fade in active">
                                    <div class="media">

                                        <div class="media-body " >
                                            <h3 class="media-heading">Mes Produits</h3>
                                            <section class="clearfix productSection">

                                                <div class="row">
                                                    {% for i in produit %}
                                                        <div class="col-md-3 col-xs-4">
                                                            <div class="box bg-color-4">
                                                                <div class="box-img border-color-4 text-center">
                                                                    {#<a href="{{ path('') }}">#}
                                                                    {##}

                                                                    {#</a>#}
                                                                    <img src="{{ asset(i.image) }}" alt="image"  class="img-responsive">
                                                                    {#<a data-toggle="modal" href=".html" class="btn-block"><i class="fa fa-eye" aria-hidden="true"></i>Quick View</a>#}
                                                                </div>
                                                                <div class="box-info">
                                                                    <h4>{{ i.nom }}</h4>
                                                                    <div class="price">
                                                                        <span>{{ i.prix }}dt</span>
                                                                        {#</div>#}
                                                                        {#<a href="{{ path('boutique_cart_produit') }}" class="btn btn-primary "><i class="fa fa-shopping-basket " aria-hidden="true"></i>Add to Cart</a>#}
                                                                        {#</div>#}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    {% endfor %}
                                                </div>

                                            </section>

                                        </div>
                                    </div>
                                </div>
                                <div id="leftMenu1" class="tab-pane fade">
                                    <div class="media">
                                        <div class="media-body">
                                            <h3 class="media-heading"></h3>
                                            {{ form_start(form) }}
                                            <div class="container">

                                                <div class="col-sm-8">

                                                    <div class="panel panel-default checkoutInfo">
                                                        <div class="panel-heading bg-color-3 border-color-3">
                                                            <h3 class="panel-title">Ajouter produit</h3>
                                                        </div>
                                                        <div class="panel-body">
                                                            <div class="form-group">
                                                                <div class="col-sm-6 col-xs-12">
                                                                    <label for=""></label>
                                                                    {{ form_widget(form.nom) }}
                                                                    {#<input type="text" class="form-control border-color-1" id="">#}
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-sm-6 col-xs-12">
                                                                    <label for=""></label>
                                                                    {{ form_widget(form.prix) }}
                                                                    {#<input type="text" class="form-control border-color-1" id="">#}
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-sm-6 col-xs-12">
                                                                    <label for=""></label>
                                                                    {{ form_widget(form.stock) }}
                                                                    {#<input type="text" class="form-control border-color-1" id="">#}
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-sm-6 col-xs-12">
                                                                    <label for=""></label>

                                                                    {{ form_widget(form.genre) }}
                                                                    {#<input type="text" class="form-control border-color-1" id="">#}
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-sm-6 col-xs-12">
                                                                    <label for=""></label>
                                                                    {{ form_widget(form.age) }}
                                                                    {#<input type="text" class="form-control border-color-1" id="">#}
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-sm-6 col-xs-12">
                                                                    <label for=""></label>
                                                                    {{ form_widget(form.image) }}
                                                                    {#<input type="text" class="form-control border-color-1" id="">#}
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-sm-6 col-xs-12">
                                                                    <label for=""></label>
                                                                    {{ form_widget(form.categorie) }}
                                                                    {#<input type="text" class="form-control border-color-1" id="">#}
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-xs-12">
                                                                    <label for=""></label>
                                                                    {{ form_widget(form.description) }}
                                                                    {#<input type="text" class="form-control border-color-1" id="">#}
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="col-sm-6 col-xs-12">
                                                                    <label for=""></label>
                                                                    {{ form_widget(form.Ajouter) }}

                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            {{ form_end(form) }}

                                        </div>
                                    </div>
                                </div>
                                <div id="leftMenu2" class="tab-pane fade">
                                    <div class="media">


                                        <div class="media-body">
                                            <h3 class="media-heading" >Gestion</h3>
                                            <table id="datatable" class="table table-striped" border="0" >
                                                <thead>
                                                <tr class="active">
                                                    <th>Id</th>
                                                    <th>Nom</th>
                                                    <th>Stock</th>
                                                    <th>Sexe</th>
                                                    <th>Age</th>
                                                    <th>image</th>


                                                    <th>supprimer</th>
                                                    <th>modifier</th>
                                                    <th hidden>aaaa</th>
                                                </tr>
                                                </thead>

                                                {% for i in produit %}
                                                    <tr>
                                                        <td>{{ i.id }}</td>
                                                        <td>{{ i.nom }}</td>
                                                        <td>{{ i.stock }}</td>
                                                        <td>{{ i.genre }}</td>
                                                        <td>{{ i.age }}</td>

                                                        <td><img src="{{ asset(i.image) }}" style="width:50px;" alt="image" class="img-responsive">
                                                        </td>
                                                        <td hidden>{{ i.image }}</td>
                                                        <td><a href="{{ path('boutique_supprimer_produit',{'id':i.id}) }}"><i class="medium material-icons "> cancel</i></a></td>
                                                        <td><a href="{{ path('modifier',{'id':i.id}) }}"><i class="medium material-icons "> create</i></a></td>

                                                    </tr>
                                                {% endfor %}

                                            </table>

                                        </div>
                                    </div>
                                </div>
                                <div id="leftMenu3" class="tab-pane fade">
                                    <div class="media">
                                        <div class="row">
                                            {% set myVal = 0 %}
                                            {% set myVal2 = 0 %}
                                            {% for com in commande %}
                                                {% set myVal = myVal + 1 %}
                                                <div id="hide{{ myVal }}">
                                                    <div class="col-sm-6 col-xs-12">
                                                        <div class="accordionCommon" id="accordionOne">
                                                            <div class="panel-group" id="accordionFirst{{ myVal }}">
                                                                <div class="panel panel-default" >
                                                                    <a class="panel-heading accordion-toggle bg-color-3" data-toggle="collapse" data-parent="#accordionFirst{{ myVal }}" href="#{{ myVal }}">
                                                                        <span id="client{{ myVal }}">Where does it come from?</span>
                                                                        <span class="iconBlock"><i class="fa fa-chevron-down"></i></span>
                                                                    </a>
                                                                    <div id="{{ myVal }}" class="panel-collapse collapse ">
                                                                        <div class="panel-body" >
                                                                            <!-------------------->
                                                                            {% for i in com %}
                                                                                {% set myVal2 = i.id %}
                                                                                {% if i.etat == 1 %}
                                                                                <script>
                                                                                    $("#hide{{ myVal }}").hide();
                                                                                </script>
                                                                                {% endif %}
                                                                                <script>
                                                                                    $("#client{{ myVal }}").html("{{ i.nomc }}")
                                                                                </script>

                                                                                <div class="row">
                                                                                    <div class="col-sm-12 col-xs-12 block">
                                                                                        <div class="media eventContent bg-color-7">
                                                                                            <a class="media-left" >
                                                                                                <img src="{{ asset(i.image) }}"  alt="image" class="media-object" >
                                                                                            </a>
                                                                                            <div class="media-body">
                                                                                                <h3 class="media-heading"><a>{{ i.nom }}</a></h3>
                                                                                                <ul class="list-unstyled">
                                                                                                    <li><i class="fa fa-child" aria-hidden="true"></i>Age:{{ i.age }}</li>
                                                                                                    <li><i class="fa fa-clock-o" aria-hidden="true"></i> Quantite: {{ i.quantite }} </li>

                                                                                                </ul>


                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                            {% endfor %}
                                                                            {#{{ dump(commande) }}#}

                                                                            <!-------------------->
                                                                            <center> <button type="button"  id="btn{{ myVal2 }}" class="btn btn-info">Info</button></center>
                                                                            <script>
                                                                                $(document).ready(function () {




                                                                                    $('#btn{{ myVal2 }}').click(function () {

                                                                                        swal({
                                                                                            title: "Êtes-vous sûr?",
                                                                                            text: "Vous allez valider la commande",
                                                                                            icon: "success",
                                                                                            buttons: true,

                                                                                        }).then(function (willDelete){
                                                                                            if (willDelete) {

                                                                                                window.location="{{ path('validercommande', {'id':  myVal2 }) }}"
                                                                                            }
                                                                                        });

                                                                                    })
                                                                                    $('#datatable').dataTable();


                                                                                });
                                                                            </script>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div id="leftMenu4" class="tab-pane fade">
                                    <div class="media">

                                        <div id="div_chart"></div>
                                        <div class="row">
                                            <div class="col-md-2"></div>
                                            <div id="div_chart2" class="col-md-10"></div>
                                        </div>
                                        <script type="text/javascript" src="{{ asset('https://www.gstatic.com/charts/loader.js') }}"></script>
                                        <script type="text/javascript">
                                            {{ gc_draw([piechart, barchart ],['div_chart','div_chart2']) }}
                                        </script>



                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <script type="text/javascript">

        </script>
    {% endblock %}
